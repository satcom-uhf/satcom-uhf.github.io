<!DOCTYPE html> <html lang="en-US">
<!-- Mirrored from olegkutkov.me/2021/11/29/hackrf-supercluster/?replytocom=1096 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 22 May 2024 19:16:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="profile" href="http://gmpg.org/xfn/11">
    <link rel="pingback" href="../../../../xmlrpc.php">
    
<link media="all" href="../../../../wp-content/cache/autoptimize/css/autoptimize_d3a63325ffdf3e63cfd04bb7108474ba.css" rel="stylesheet"><title>HackRF SuperCluster &#8211; Oleg Kutkov personal blog</title>
<meta name='robots' content='max-image-preview:large, noindex, follow' />

<link rel="alternate" type="application/rss+xml" title="Oleg Kutkov personal blog &raquo; Feed" href="../../../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Oleg Kutkov personal blog &raquo; Comments Feed" href="../../../../comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Oleg Kutkov personal blog &raquo; HackRF SuperCluster Comments Feed" href="feed/index.html" />
<script type="text/javascript">
/* <![CDATA[ */
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/olegkutkov.me\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.5.3"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!n(e,"\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\u200b\ud83c\uddf3")&&!n(e,"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!n(e,"\ud83d\udc26\u200d\u2b1b","\ud83d\udc26\u200b\u2b1b")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
/* ]]> */
</script>







<link rel='stylesheet' id='blog-way-fonts-css' href='../../../../wp-content/cache/autoptimize/css/autoptimize_single_94734ec7b04ae676db1e4cafbe009ca298dd.css?ver=1647447083' type='text/css' media='all' />


<script type="text/javascript" src="../../../../wp-includes/js/jquery/jquery.minf43b.js?ver=3.7.1" id="jquery-core-js"></script>

<link rel="https://api.w.org/" href="../../../../wp-json/index.html" /><link rel="alternate" type="application/json" href="../../../../wp-json/wp/v2/posts/2150.json" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../../xmlrpc0db0.php?rsd" />
<meta name="generator" content="WordPress 6.5.3" />
<link rel="canonical" href="index.html" />
<link rel='shortlink' href='../../../../index4be5.html?p=2150' />
<link rel="alternate" type="application/json+oembed" href="../../../../wp-json/oembed/1.0/embedc069.json?url=https%3A%2F%2Folegkutkov.me%2F2021%2F11%2F29%2Fhackrf-supercluster%2F" />
<link rel="alternate" type="text/xml+oembed" href="../../../../wp-json/oembed/1.0/embed9e22?url=https%3A%2F%2Folegkutkov.me%2F2021%2F11%2F29%2Fhackrf-supercluster%2F&amp;format=xml" />
		<meta name="author" content="oleg_kutkov">
		<meta name="classification" content="Embedded, Linux system development, Electronics, Radio &amp; antennas">
		<meta name="copyright" content="Copyright Oleg Kutkov personal blog - All rights Reserved.">
		<meta name="designer" content="Oleg Kutkov">
		<meta name="distribution" content="Global">
		<meta name="language" content="en-US">
		<meta name="publisher" content="Oleg Kutkov personal blog">
		<meta name="rating" content="General">
		<meta name="resource-type" content="Document">
		<meta name="revisit-after" content="3">
		<meta name="subject" content="Embedded, Linux system development, Electronics, Radio &amp; antennas">
		<meta name="template" content="Twenty Sixteen">
		<meta name="google-site-verification" content="8DtB-RdO3yEMbX6FI90X5epj-tTr5nOhooTmZxVmAcM" />
<meta name="msvalidate.01" content="0C098D163A08B0D9E8B291C619A521FE" />
<script type="text/javascript"> //<![CDATA[
  var tlJsHost = ((window.location.protocol == "index7806.html") ? "https://secure.trust-provider.com/" : "http://www.trustlogo.com/");
  document.write(unescape("%3Cscript src='" + tlJsHost + "trustlogo/javascript/trustlogo.js' type='text/javascript'%3E%3C/script%3E"));
//]]></script>
<script language="JavaScript" type="text/javascript">
  TrustLogo("../../../../../www.positivessl.com/images/seals/positivessl_trust_seal_md_167x42.png", "POSDV", "none");
</script>
<link rel="pingback" href="../../../../xmlrpc.php">               
    

<link rel="preload" as="style" href="../../../../wp-content/plugins/code-prettify/prettify/prettify.css" /><link rel="icon" href="../../../../wp-content/uploads/2018/02/cropped-Screenshot-02152018-121038-PM-2-32x32.png" sizes="32x32" />
<link rel="icon" href="../../../../wp-content/uploads/2018/02/cropped-Screenshot-02152018-121038-PM-2-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="../../../../wp-content/uploads/2018/02/cropped-Screenshot-02152018-121038-PM-2-180x180.png" />
<meta name="msapplication-TileImage" content="https://olegkutkov.me/wp-content/uploads/2018/02/cropped-Screenshot-02152018-121038-PM-2-270x270.png" />
		
		</head>

<body class="post-template-default single single-post postid-2150 single-format-standard sticky-top">
	<div id="page" class="site">
		<header id="masthead" class="site-header navbar-fixed-top" role="banner"><div class="container"><div class="row">    	<div class="col-sm-12">
            <nav id="site-navigation" class="main-navigation" role="navigation">
                <div class="menu-about-me-container"><ul id="primary-menu" class="menu"><li id="menu-item-218" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-218"><a href="../../../../index.html">Home</a></li>
<li id="menu-item-2937" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2937"><a href="../../../../starlink-repairs-archive/index.html">Starlink repairs archive</a></li>
<li id="menu-item-2978" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2978"><a href="../../../../olegkutkov_public_key.txt">Public PGP</a></li>
<li id="menu-item-3140" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3140"><a href="../../../../license/index.html">License</a></li>
<li id="menu-item-219" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-219"><a href="../../../../about-me/index.html">About me</a></li>
</ul></div>            </nav>
        </div>
        </div><!-- .row --></div><!-- .container --></header><!-- #masthead -->        <div class="main-banner banner-disabled overlay-enabled" >
            <div class="container">
                <div class="row">
                    <div class="site-branding">
                        
                            <h2 class="site-title"><a href="../../../../index.html" rel="home">Oleg Kutkov personal blog</a></h2>
                           
                            
                                <h3 class="site-description">Programming, electronics and diy projects</h3>

                                                    </div><!-- .site-branding -->
                </div>
            </div>
        </div><!-- .main-banner -->
        <div id="content" class="site-content"><div class="container"><div class="row"><div class="col-md-8 col-sm-12 layout-right-sidebar main-content-area"><div id="primary" class="content-area"><main id="main" class="site-main" role="main">
	
<article id="post-2150" class="post-2150 post type-post status-publish format-standard hentry category-electronics category-radio-antennas category-radioastronomy category-software tag-hackrf tag-radio tag-rf tag-signals tag-spectrum tag-supercluster">

	<div class="detail-wrap">
		<header class="entry-header">
			<span class="cat-links"><a href="../../../../category/electronics/index.html" rel="category tag">Electronics</a>, <a href="../../../../category/radio-antennas/index.html" rel="category tag">Radio &amp; antennas</a>, <a href="../../../../category/radioastronomy/index.html" rel="category tag">Radioastronomy</a>, <a href="../../../../category/software/index.html" rel="category tag">Software</a></span><h1 class="entry-title">HackRF SuperCluster</h1>
				<div class="author-date">
											<span class="author vcard"><a class="url fn n" href="../../../../author/oleg_kutkov/index.html">Oleg Kutkov</a></span>
					
											<span class="separator"> / </span>
					
											<span class="posted-on">November 29, 2021</span>
									</div><!-- .author-date -->
			
		</header><!-- .entry-header -->

		
		<div class="entry-content">
			<p><img decoding="async" class="alignleft size-full wp-image-2151" src="../../../../wp-content/uploads/2021/11/thumb.png" alt="" width="150" height="134" /></p>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe> Who&#8217;s following me on Twitter probably knows some details. I believe this is my most expected article.<br />
Last year I came up with the idea to build a wideband SDR. It&#8217;s fun to monitor a wider spectrum and some signals.<br />
Sure, USRP is cool but too expensive for amateur usage.<br />
I had a few HackRF boards, so I ordered more boards to get 8 in total. Eight HackRF boards could provide up to 160MHz bandwidth.</div>
<div></div>
<div></div>
<p><span id="more-2150"></span></p>
<h3>Project goals</h3>
<p>The original idea is to monitor and research wideband signals, like satellite communications.<br />
Sure, I thought about Starlink. But Starlink datastream is 200+ MHz, so my supercluster is not enough.<br />
Anyway, it&#8217;s a great place for experiments and learning new things. Plus, it&#8217;s fun 🙂</p>
<h3>Hardware design</h3>
<p>I found that it&#8217;s possible to synchronize multiple HackRF boards. It&#8217;s crucial for signal integrity.</p>
<p>I came up with the following layout:</p>
<p><a href="../../../../wp-content/uploads/2021/11/8hackrf_layout.png"><img fetchpriority="high" decoding="async" class="aligncenter size-large wp-image-2153" src="../../../../wp-content/uploads/2021/11/8hackrf_layout-1024x545.png" alt="" width="850" height="452" srcset="https://olegkutkov.me/wp-content/uploads/2021/11/8hackrf_layout-1024x545.png 1024w, https://olegkutkov.me/wp-content/uploads/2021/11/8hackrf_layout-400x213.png 400w, https://olegkutkov.me/wp-content/uploads/2021/11/8hackrf_layout-768x409.png 768w, https://olegkutkov.me/wp-content/uploads/2021/11/8hackrf_layout.png 1081w" sizes="(max-width: 850px) 100vw, 850px" /></a></p>
<p class="_1qeIAgB0cPwnLhDF9XSiJM">All the boards clocked from the same stable phase-correct 10 MHz sources. Also, there is a 1PPS signal that helps to sync data sampling.<br />
According to this <a class="_3t5uN8xUmg0TOwRCOGQEcU" href="https://ieeexplore.ieee.org/document/7849328" target="_blank" rel="noopener nofollow ugc">paper</a>, this should provide a decent level of synchronization between the boards.<br />
This sync mechanism requires the latest HackRF firmware release (at least 2021.03.1). You can find additional details in <a href="https://github.com/greatscottgadgets/hackrf/pull/381">this pull request.</a></p>
<p class="_1qeIAgB0cPwnLhDF9XSiJM">GPS block it&#8217;s a GPS disciplined oscillator that provides 10 MHz square and 1PPS 1Hz signals.</p>
<p>I was lucky to find two cheap 1&#215;4 splitter <a href="https://www.instockwireless.com/power_divider_pd1140.htm">PD1140</a>. Also, I had one 1&#215;2 splitter <a href="https://www.minicircuits.com/WebStore/dashboard.html?model=ZFSC-2-2500-S%2B">ZFSC-2-2500-S+</a><br />
Thus my splitter setup is the following:</p>
<p><a href="../../../../wp-content/uploads/2021/11/rf_splitter.png"><img decoding="async" class="aligncenter wp-image-2156" src="../../../../wp-content/uploads/2021/11/rf_splitter.png" alt="" width="665" height="511" srcset="https://olegkutkov.me/wp-content/uploads/2021/11/rf_splitter.png 800w, https://olegkutkov.me/wp-content/uploads/2021/11/rf_splitter-390x300.png 390w, https://olegkutkov.me/wp-content/uploads/2021/11/rf_splitter-768x590.png 768w" sizes="(max-width: 665px) 100vw, 665px" /></a></p>
<p class="_1qeIAgB0cPwnLhDF9XSiJM">The total frequencies range is 700MHz &#8211; 2500 MHz. That&#8217;s fine for satellite monitoring. Sure, RF Splitter introduces a lot of fading, so additional LNA is crucial.</p>
<p class="_1qeIAgB0cPwnLhDF9XSiJM">HackRF boards could provide the 10MHz clock output and connect in a daisy chain manner. But this also could introduce delays and phase instability.<br />
I decided to build a separate clock distribution amplifier and provide eight phase-coherent clock lines.</p>
<p><a href="../../../../wp-content/uploads/2021/08/front_view.jpg"><img loading="lazy" decoding="async" class="aligncenter wp-image-2111" src="../../../../wp-content/uploads/2021/08/front_view-1024x573.jpg" alt="" width="691" height="387" srcset="https://olegkutkov.me/wp-content/uploads/2021/08/front_view-1024x573.jpg 1024w, https://olegkutkov.me/wp-content/uploads/2021/08/front_view-400x224.jpg 400w, https://olegkutkov.me/wp-content/uploads/2021/08/front_view-768x430.jpg 768w, https://olegkutkov.me/wp-content/uploads/2021/08/front_view.jpg 1500w" sizes="(max-width: 691px) 100vw, 691px" /></a></p>
<p>You can find all details about this distribution amplifier in my articles:<br />
<a href="../../../04/10/1pps-square-clock-8-channel-distribution-amplifier/index.html">https://olegkutkov.me/2021/04/10/1pps-square-clock-8-channel-distribution-amplifier/</a><br />
<a href="../../../08/19/housing-for-the-1pps-square-clock-8-channel-distribution-amplifier/index.html">https://olegkutkov.me/2021/08/19/housing-for-the-1pps-square-clock-8-channel-distribution-amplifier/</a></p>
<div></div>
<div>Connection diagram:</div>
<div><a href="../../../../wp-content/uploads/2021/11/hackrf_1pps_connection.png"><img loading="lazy" decoding="async" class="aligncenter wp-image-2164" src="../../../../wp-content/uploads/2021/11/hackrf_1pps_connection.png" alt="" width="702" height="498" srcset="https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_1pps_connection.png 986w, https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_1pps_connection-400x284.png 400w, https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_1pps_connection-768x544.png 768w" sizes="(max-width: 702px) 100vw, 702px" /></a></div>
<h3>USB connection</h3>
<p>The most tricky thing was the USB. The problem is that a single HackRF board could create up to 320 MB/s throughput at 20MHz bandwidth. Eight boards generates 2560 MB/s of data.</p>
<p>This value is very close to the theoretical maximum of the USB 2.0 interface. This means it&#8217;s impossible to handle two (or more) full-speed data streams with a USB hub due to the same limit of upstream port.<br />
USB3.0 won&#8217;t help there because a typical USB3.0 hub/interface couldn&#8217;t convert USB2.0 to USB3.0 with a bandwidth increase.<br />
USB host-controller is also can&#8217;t handle more than 2 data streams in real-time.</p>
<p><a href="../../../../wp-content/uploads/2021/11/usb_bottleneck.png"><img loading="lazy" decoding="async" class="aligncenter size-large wp-image-2171" src="../../../../wp-content/uploads/2021/11/usb_bottleneck-1024x254.png" alt="" width="850" height="211" srcset="https://olegkutkov.me/wp-content/uploads/2021/11/usb_bottleneck-1024x254.png 1024w, https://olegkutkov.me/wp-content/uploads/2021/11/usb_bottleneck-400x99.png 400w, https://olegkutkov.me/wp-content/uploads/2021/11/usb_bottleneck-768x191.png 768w, https://olegkutkov.me/wp-content/uploads/2021/11/usb_bottleneck.png 1063w" sizes="(max-width: 850px) 100vw, 850px" /></a></p>
<p>All of this means delays and dropped data samples. And this is most undesired.</p>
<p>To solve this problem, I decided to install eight separate USB to PCIe host controllers and connect all the controllers to individual PCIe lines of my CPU.<br />
8 PCIe lines provide by a PCIe x16 to 8 PCIe x1 controller board. Typically, such boards are used to connect multiple graphics adapters for crypto mining.</p>
<p><a href="../../../../wp-content/uploads/2021/11/hackrf_supercluster_usb_solution.png"><img loading="lazy" decoding="async" class="aligncenter size-large wp-image-2173" src="../../../../wp-content/uploads/2021/11/hackrf_supercluster_usb_solution-1024x494.png" alt="" width="850" height="410" srcset="https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_supercluster_usb_solution-1024x494.png 1024w, https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_supercluster_usb_solution-400x193.png 400w, https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_supercluster_usb_solution-768x370.png 768w, https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_supercluster_usb_solution.png 1122w" sizes="(max-width: 850px) 100vw, 850px" /></a><br />
And here is the result. Probably the most weird-looking PC:</p>
<p><a href="../../../../wp-content/uploads/2021/11/hackrf_usb_setup_view.jpg"><img loading="lazy" decoding="async" class="aligncenter size-large wp-image-2175" src="../../../../wp-content/uploads/2021/11/hackrf_usb_setup_view-1024x442.jpg" alt="" width="850" height="367" srcset="https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_usb_setup_view-1024x442.jpg 1024w, https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_usb_setup_view-400x173.jpg 400w, https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_usb_setup_view-768x331.jpg 768w, https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_usb_setup_view.jpg 1300w" sizes="(max-width: 850px) 100vw, 850px" /></a></p>
<p>PCIe board installed into the graphics adapter slot for better performance.<br />
System specs: CPU is AMD Ryzen 9 3900x, 12 cores/24 threads. 16 Gb RAM and 256Gb NVME PCIe Gen 3 SSD.</p>
<h3>Software</h3>
<p class="_1qeIAgB0cPwnLhDF9XSiJM">Currently, my software is <a href="https://www.gnuradio.org/">gnuradio</a>-based. I wrote a script that handles and combines eight signals from my HackRF boards. This process requires data resampling, frequency shifts, and actual combining.</p>
<p>Here is my flowgraph:</p>
<p><a href="../../../../wp-content/uploads/2021/11/8_hackrf.png"><img loading="lazy" decoding="async" class="size-large wp-image-2178 aligncenter" src="../../../../wp-content/uploads/2021/11/8_hackrf-1024x741.png" alt="" width="850" height="615" srcset="https://olegkutkov.me/wp-content/uploads/2021/11/8_hackrf-1024x741.png 1024w, https://olegkutkov.me/wp-content/uploads/2021/11/8_hackrf-400x289.png 400w, https://olegkutkov.me/wp-content/uploads/2021/11/8_hackrf-768x556.png 768w, https://olegkutkov.me/wp-content/uploads/2021/11/8_hackrf-1536x1112.png 1536w, https://olegkutkov.me/wp-content/uploads/2021/11/8_hackrf-2048x1482.png 2048w" sizes="(max-width: 850px) 100vw, 850px" /></a></p>
<p style="text-align: center;"><a href="../../../../wp-content/uploads/2021/11/8_hackrf.png">Click to get a full-resolution image of the flowgraph.</a></p>
<p><a href="../../../../wp-content/uploads/2021/11/8_hackrf.grc_.zip">Download the flowgraph (wip)</a></p>
<p>CorrectIQ fixes the annoying DC-spike issue. I had 8 DC-spikes; this is even worse 🙂<br />
You can get this module here: <a href="https://github.com/ghostop14/gr-correctiq">https://github.com/ghostop14/gr-correctiq</a></p>
<p class="_1qeIAgB0cPwnLhDF9XSiJM">I had to patch and rebuild the <a href="https://osmocom.org/">osmocom</a> source block. Now this block support activation of the external sync signal (1PPS).</p>
<pre class="prettyprint">diff --git a/lib/hackrf/hackrf_common.cc b/lib/hackrf/hackrf_common.cc
index 666dc60..a2bc487 100644
--- a/lib/hackrf/hackrf_common.cc
+++ b/lib/hackrf/hackrf_common.cc
@@ -31,8 +31,14 @@ std::mutex hackrf_common::_usage_mutex;
 std::map&lt;std::string, std::weak_ptr&gt; hackrf_common::_devs;
 std::mutex hackrf_common::_devs_mutex;
 
+typedef enum {
+  HW_SYNC_MODE_OFF = 0,
+  HW_SYNC_MODE_ON = 1,
+} hw_sync_mode_t;
+
 hackrf_common::hackrf_common(const std::string &amp;args) :
   _dev(NULL),
+  _final_serial(""),
   _sample_rate(0),
   _center_freq(0),
   _freq_corr(0),
@@ -47,7 +53,6 @@ hackrf_common::hackrf_common(const std::string &amp;args) :
   hackrf_device_list_t *list;
   int dev_index;
   std::string target_serial = "0";
-  std::string final_serial = "";
 
   dict_t dict = params_to_dict(args);
   if (dict.count("hackrf") &gt; 0 &amp;&amp; dict["hackrf"].length() &gt; 0) {
@@ -99,19 +104,19 @@ hackrf_common::hackrf_common(const std::string &amp;args) :
   }
 
   if (list-&gt;serial_numbers[dev_index]) {
-    final_serial = list-&gt;serial_numbers[dev_index];
+    _final_serial = list-&gt;serial_numbers[dev_index];
   }
 
   {
     std::lock_guard guard(_devs_mutex);
 
-    if (_devs.count(final_serial) &gt; 0 &amp;&amp; !_devs[final_serial].expired()) {
-      _dev = hackrf_sptr(_devs[final_serial]);
+    if (_devs.count(_final_serial) &gt; 0 &amp;&amp; !_devs[_final_serial].expired()) {
+      _dev = hackrf_sptr(_devs[_final_serial]);
     } else {
       ret = hackrf_device_list_open(list, dev_index, &amp;raw_dev);
       HACKRF_THROW_ON_ERROR(ret, "Failed to open HackRF device")
       _dev = hackrf_sptr(raw_dev, hackrf_common::close);
-      _devs[final_serial] = static_cast&lt;std::weak_ptr&gt;(_dev);
+      _devs[_final_serial] = static_cast&lt;std::weak_ptr&gt;(_dev);
     }
   }
 
@@ -320,6 +325,21 @@ double hackrf_common::get_gain( size_t chan )
   return _amp_gain;
 }
 
+int hackrf_common::hw_sync_enable()
+{
+  std::cout &lt;&lt; "Device " &lt;&lt; _final_serial &lt;&lt; " enable clk_out" &lt;&lt; std::endl;
+  std::cout &lt;&lt; "Device " &lt;&lt; _final_serial &lt;&lt; " set HW_SYNC_MODE_ON" &lt;&lt; std::endl;
+
+  hackrf_set_clkout_enable(_dev.get(), 1);
+
+  return hackrf_set_hw_sync_mode(_dev.get(), HW_SYNC_MODE_ON);
+}
+
+int hackrf_common::hw_sync_disable()
+{
+  return hackrf_set_hw_sync_mode(_dev.get(), HW_SYNC_MODE_OFF);
+}
+
 std::vector&lt; std::string &gt; hackrf_common::get_antennas( size_t chan )
 {
   return { get_antenna( chan ) };
diff --git a/lib/hackrf/hackrf_common.h b/lib/hackrf/hackrf_common.h
index d1ab47b..bc8fa43 100644
--- a/lib/hackrf/hackrf_common.h
+++ b/lib/hackrf/hackrf_common.h
@@ -74,6 +74,9 @@ protected:
   double set_gain( double gain, size_t chan = 0 );
   double get_gain( size_t chan = 0 );
 
+  int hw_sync_enable();
+  int hw_sync_disable();
+
   std::vector&lt; std::string &gt; get_antennas( size_t chan = 0 );
   std::string set_antenna( const std::string &amp; antenna, size_t chan = 0 );
   std::string get_antenna( size_t chan = 0 );
@@ -99,6 +102,8 @@ private:
   static std::map&lt;std::string, std::weak_ptr&gt; _devs;
   static std::mutex _devs_mutex;
 
+  std::string _final_serial;
+
   double _sample_rate;
   double _center_freq;
   double _freq_corr;
diff --git a/lib/hackrf/hackrf_source_c.cc b/lib/hackrf/hackrf_source_c.cc
index 03ea3bd..f7b97e1 100644
--- a/lib/hackrf/hackrf_source_c.cc
+++ b/lib/hackrf/hackrf_source_c.cc
@@ -450,3 +450,20 @@ osmosdr::freq_range_t hackrf_source_c::get_bandwidth_range( size_t chan )
 {
   return hackrf_common::get_bandwidth_range(chan);
 }
+
+void hackrf_source_c::set_time_source(const std::string &amp;source, const size_t mboard)
+{
+   std::cout &lt;&lt; "hackrf_source_c::set_time_source = " &lt;&lt; source &lt;&lt; std::endl;
+
+   if (source == "external") {
+       hackrf_common::hw_sync_enable();
+   } else {
+       hackrf_common::hw_sync_disable();
+   }
+}
+
+std::string hackrf_source_c::get_time_source(const size_t mboard)
+{
+   return "";
+}
+
diff --git a/lib/hackrf/hackrf_source_c.h b/lib/hackrf/hackrf_source_c.h
index 0d38ac0..ba8ed80 100644
--- a/lib/hackrf/hackrf_source_c.h
+++ b/lib/hackrf/hackrf_source_c.h
@@ -119,6 +119,9 @@ public:
   double get_bandwidth( size_t chan = 0 );
   osmosdr::freq_range_t get_bandwidth_range( size_t chan = 0 );
 
+  void set_time_source(const std::string &amp;source, const size_t mboard = 0);
+  std::string get_time_source(const size_t mboard);
+
 private:
   static int _hackrf_rx_callback(hackrf_transfer* transfer);
   int hackrf_rx_callback(unsigned char *buf, uint32_t len);
</pre>
<p>After the block installation, it&#8217;s possible to select &#8220;MBx: Time Source&#8221; &#8211;&gt; &#8220;External&#8221;. Where &#8220;x&#8221; it&#8217;s the radio number (0-8).<br />
This option activates HackRF 1PPS sync input.</p>
<p><a href="../../../../wp-content/uploads/2021/11/osmocom_ext_clock_opt.png"><img loading="lazy" decoding="async" class="aligncenter wp-image-2189" src="../../../../wp-content/uploads/2021/11/osmocom_ext_clock_opt.png" alt="" width="516" height="454" srcset="https://olegkutkov.me/wp-content/uploads/2021/11/osmocom_ext_clock_opt.png 622w, https://olegkutkov.me/wp-content/uploads/2021/11/osmocom_ext_clock_opt-341x300.png 341w" sizes="(max-width: 516px) 100vw, 516px" /></a></p>
<p>Sure, this flowgraph is resource-hungry and does not work smoothly, even on my Ryzen 9 CPU. That&#8217;s why I&#8217;m slowly rewriting all this to C++.</p>
<p>The general idea is to isolate 8 CPU cores and assign interrupts and basic flow processing for each <a href="https://www.linuxtopia.org/online_books/linux_kernel/kernel_configuration/re46.html">isolated</a> CPU core.<br />
Left cores would run generic threads, UI interface, and so on.</p>
<p><a href="../../../../wp-content/uploads/2021/11/hackrf_supercluser_cpu_sched_idea.png"><img loading="lazy" decoding="async" class="aligncenter wp-image-2196" src="../../../../wp-content/uploads/2021/11/hackrf_supercluser_cpu_sched_idea-1024x313.png" alt="" width="762" height="233" srcset="https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_supercluser_cpu_sched_idea-1024x313.png 1024w, https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_supercluser_cpu_sched_idea-400x122.png 400w, https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_supercluser_cpu_sched_idea-768x235.png 768w, https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_supercluser_cpu_sched_idea.png 1076w" sizes="(max-width: 762px) 100vw, 762px" /></a><br />
I believe this should provide the best performance.</p>
<h3>Results</h3>
<p>Currently, I&#8217;m working with Ku-band satellites signals.<br />
My setup contains two amplifiers and a <a href="https://www.minicircuits.com/WebStore/dashboard.html?model=SHP-800%2B">high-pass</a> filter. My <a href="../../../../2020/12/15/satellite-lnb-controller-with-gui-interface/index.html">Satellite LNB controller</a> controls the antenna LNB.</p>
<p><a href="../../../../wp-content/uploads/2021/11/hackrf_sc_27_11_2021_small.jpg"><img loading="lazy" decoding="async" class="aligncenter size-full wp-image-2200" src="../../../../wp-content/uploads/2021/11/hackrf_sc_27_11_2021_small.jpg" alt="" width="900" height="600" srcset="https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_sc_27_11_2021_small.jpg 900w, https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_sc_27_11_2021_small-400x267.jpg 400w, https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_sc_27_11_2021_small-768x512.jpg 768w" sizes="(max-width: 900px) 100vw, 900px" /></a></p>
<p class="_1qeIAgB0cPwnLhDF9XSiJM">Resulting spectrum at 12.38 GHz. Two DVB-S transponders are visible:</p>
<p><a href="../../../../wp-content/uploads/2021/11/hackrf_supercluster_running_spectrum_small.png"><img loading="lazy" decoding="async" class="aligncenter wp-image-2202" src="../../../../wp-content/uploads/2021/11/hackrf_supercluster_running_spectrum_small.png" alt="" width="773" height="457" srcset="https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_supercluster_running_spectrum_small.png 900w, https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_supercluster_running_spectrum_small-400x236.png 400w, https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_supercluster_running_spectrum_small-768x454.png 768w" sizes="(max-width: 773px) 100vw, 773px" /></a></p>
<p><a href="../../../../wp-content/uploads/2021/11/hackrf_supercluster_running_waterfall_small.png"><img loading="lazy" decoding="async" class="aligncenter wp-image-2201" src="../../../../wp-content/uploads/2021/11/hackrf_supercluster_running_waterfall_small.png" alt="" width="773" height="455" srcset="https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_supercluster_running_waterfall_small.png 900w, https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_supercluster_running_waterfall_small-400x236.png 400w, https://olegkutkov.me/wp-content/uploads/2021/11/hackrf_supercluster_running_waterfall_small-768x452.png 768w" sizes="(max-width: 773px) 100vw, 773px" /></a></p>
<p class="_1qeIAgB0cPwnLhDF9XSiJM">The raw recording could be &#8220;played&#8221; with GQRX:</p>
<p><a href="../../../../wp-content/uploads/2021/11/gqrx_160mhz_1_small.png"><img loading="lazy" decoding="async" class="aligncenter wp-image-2203" src="../../../../wp-content/uploads/2021/11/gqrx_160mhz_1_small.png" alt="" width="658" height="445" srcset="https://olegkutkov.me/wp-content/uploads/2021/11/gqrx_160mhz_1_small.png 900w, https://olegkutkov.me/wp-content/uploads/2021/11/gqrx_160mhz_1_small-400x271.png 400w, https://olegkutkov.me/wp-content/uploads/2021/11/gqrx_160mhz_1_small-768x520.png 768w" sizes="(max-width: 658px) 100vw, 658px" /></a></p>
<p>Is it possible to demodulate the signal? Nope.<br />
The main problem is that this is not a real continuous spectrum. I had to use some frequency overlaps to avoid &#8220;gaps&#8221;. Those gaps are the results of the upsampling process.<br />
Plus, there might be some frequency instabilities; I need to do some additional measurements.</p>
<p>Honestly, I don&#8217;t know how I&#8217;m to work around this &#8220;gaps issue&#8221;. Not sure if it&#8217;s even possible, but work continues.</p>
<p>Thanks for reading!</p>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<div><iframe id="embedPath" style="height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;" src="http://remove.video/repo"></iframe></div>
<span class="tags-links">Tagged <a href="../../../../tag/hackrf/index.html" rel="tag">hackrf</a>, <a href="../../../../tag/radio/index.html" rel="tag">radio</a>, <a href="../../../../tag/rf/index.html" rel="tag">rf</a>, <a href="../../../../tag/signals/index.html" rel="tag">signals</a>, <a href="../../../../tag/spectrum/index.html" rel="tag">spectrum</a>, <a href="../../../../tag/supercluster/index.html" rel="tag">supercluster</a></span>		</div><!-- .entry-content -->
	</div>

</article><!-- #post-## -->

                    <div class="related-posts">

                        
                            <h3 class="related-posts-title">Related Posts</h3>

                                                    
                        <div class="inner-wrapper">
                              

                                <div class="news-item three-column-item">
                                    <div class="news-thumb">
                                        <a href="../../../../2024/02/12/starlink-terminal-revision-4-overview-and-tests/index.html"></a>   
                                    </div><!-- .news-thumb --> 

                                   <div class="news-text-wrap">
                                        <h2><a href="../../../../2024/02/12/starlink-terminal-revision-4-overview-and-tests/index.html">Starlink terminal revision 4: overview and tests</a></h2>
                                         <span class="posted-date">February 12, 2024</span>
                                   </div><!-- .news-text-wrap -->
                                </div><!-- .news-item -->

                                  

                                <div class="news-item three-column-item">
                                    <div class="news-thumb">
                                        <a href="../../../../2023/11/07/connecting-external-gps-antenna-to-the-starlink-terminal/index.html"></a>   
                                    </div><!-- .news-thumb --> 

                                   <div class="news-text-wrap">
                                        <h2><a href="../../../../2023/11/07/connecting-external-gps-antenna-to-the-starlink-terminal/index.html">Connecting external GPS antenna to the Starlink terminal</a></h2>
                                         <span class="posted-date">November 7, 2023</span>
                                   </div><!-- .news-text-wrap -->
                                </div><!-- .news-item -->

                                  

                                <div class="news-item three-column-item">
                                    <div class="news-thumb">
                                        <a href="../../../../2023/06/09/how-to-power-starlink-terminal-from-12v-without-poe-injector-and-dc-dc-converters/index.html"></a>   
                                    </div><!-- .news-thumb --> 

                                   <div class="news-text-wrap">
                                        <h2><a href="../../../../2023/06/09/how-to-power-starlink-terminal-from-12v-without-poe-injector-and-dc-dc-converters/index.html">How to power Starlink terminal from 12V without PoE injector and DC/DC converters</a></h2>
                                         <span class="posted-date">June 9, 2023</span>
                                   </div><!-- .news-text-wrap -->
                                </div><!-- .news-item -->

                                                        </div>

                    </div>
                     
                    
            <div class="author-info-wrap">

                <div class="author-thumb">
                    <img alt='' src='https://secure.gravatar.com/avatar/71a690f51f8d15d23a235b9bd07140c4?s=100&amp;d=mm&amp;r=g' srcset='https://secure.gravatar.com/avatar/71a690f51f8d15d23a235b9bd07140c4?s=200&#038;d=mm&#038;r=g 2x' class='avatar avatar-100 photo' height='100' width='100' loading='lazy' decoding='async'/>                </div>

                <div class="author-content-wrap">
                    
                    <div class="author-header">
                        <h3 class="author-name">About Oleg Kutkov</h3>
                    </div><!-- .author-header -->

                    <div class="author-content">
                        <div class="author-desc"></div>
                        <a class="authors-more-posts" href="../../../../author/oleg_kutkov/index.html">View all posts by Oleg Kutkov &rarr;</a>
                    </div><!-- .author-content -->
                    
                </div>
                
            </div>
                     
            
	<nav class="navigation post-navigation" aria-label="Posts">
		<h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="../../../08/19/housing-for-the-1pps-square-clock-8-channel-distribution-amplifier/index.html" rel="prev">Housing for the 1PPS/Square clock 8 channel distribution amplifier</a></div><div class="nav-next"><a href="../../../12/25/analysis-and-reverse-engineering-of-the-original-starlink-router/index.html" rel="next">Analysis and reverse-engineering of the original Starlink router</a></div></div>
	</nav>
<div id="comments" class="comments-area">

			<h2 class="comments-title">
			7 thoughts on &ldquo;<span>HackRF SuperCluster</span>&rdquo;		</h2>

		
		<ol class="comment-list">
					<li id="comment-1095" class="comment even thread-even depth-1">
			<article id="div-comment-1095" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/e9031c0afadaa80cc3e02ab241729334?s=32&amp;d=mm&amp;r=g' srcset='https://secure.gravatar.com/avatar/e9031c0afadaa80cc3e02ab241729334?s=64&#038;d=mm&#038;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' loading='lazy' decoding='async'/>						<b class="fn">Ivan</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.html#comment-1095"><time datetime="2021-11-30T15:09:32+02:00">November 30, 2021 at 3:09 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Cool project!  I repeat it at the moment.  I have already bought everything, it remains only to configure!  Thank you so much for the work done and for being open to other users!</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index6a2f.html?replytocom=1095#respond' data-commentid="1095" data-postid="2150" data-belowelement="div-comment-1095" data-respondelement="respond" data-replyto="Reply to Ivan" aria-label='Reply to Ivan'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-1096" class="comment odd alt thread-odd thread-alt depth-1 parent">
			<article id="div-comment-1096" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/655208d8b9e702cfba2db883c70fdbff?s=32&amp;d=mm&amp;r=g' srcset='https://secure.gravatar.com/avatar/655208d8b9e702cfba2db883c70fdbff?s=64&#038;d=mm&#038;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' loading='lazy' decoding='async'/>						<b class="fn">Andrew</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.html#comment-1096"><time datetime="2021-11-30T21:45:01+02:00">November 30, 2021 at 9:45 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>This is really amazing work! Have you looked at all into the interleaved sampling algorithm software like qspectrumanalyzer uses to combine multiple sweeps into one wideband spectrum? It splits the bandwidth of each sweep step into 3 parts (+ guard bands). Working up in frequency you&#8217;d have:<br />
the lower band edge (thrown away)<br />
the lower piece (used)<br />
the middle piece (around the DC spike) &#8211; thrown away<br />
the upper piece (used)<br />
the upper band edge (thrown away)</p>
<p>the lower piece, middle piece, and upper piece are all the same bandwidth. Then it interleaves the tuning frequencies so that on the next step, the lower piece covers the center piece of the previous step that was thrown away (to eliminate the DC spike), the middle piece of that scan (which is thrown away) lands on the upper piece of the previous scan, and then you get one new slice. Somewhere in the documentation, it goes into a good explanation of how the sampling works, though I had to read it a couple of times to understand what they were getting at.</p>
<p>Obviously here rather than tuning steps on the same radio, you could do the same thing with each hackrf in parallel</p>
<p>Also, the HackRF has a hardware sweep mode that allows it to sweep a large frequency range without individual tuning commands being sent at each step which makes it&#8217;s sweeps really fast &#8211; great for simple spectrum analysis, but this is clearly superior (a bunch of synchronized hackrf&#8217;s in parallel) to do signal analysis.</p>
<p>Really interested in following the future updates!</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index7806.html?replytocom=1096#respond' data-commentid="1096" data-postid="2150" data-belowelement="div-comment-1096" data-respondelement="respond" data-replyto="Reply to Andrew" aria-label='Reply to Andrew'>Reply</a></div>			</article><!-- .comment-body -->
		<ol class="children">
		<li id="comment-1097" class="comment byuser comment-author-oleg_kutkov bypostauthor even depth-2">
			<article id="div-comment-1097" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/71a690f51f8d15d23a235b9bd07140c4?s=32&amp;d=mm&amp;r=g' srcset='https://secure.gravatar.com/avatar/71a690f51f8d15d23a235b9bd07140c4?s=64&#038;d=mm&#038;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' loading='lazy' decoding='async'/>						<b class="fn"><a href="../../../../index.html" class="url" rel="ugc">Oleg Kutkov</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.html#comment-1097"><time datetime="2021-11-30T22:01:51+02:00">November 30, 2021 at 10:01 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Hi Andrew,</p>
<p>I will check the qspectrumanalyzer algorithms, it sounds interesting.<br />
Thanks!</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index2902.html?replytocom=1097#respond' data-commentid="1097" data-postid="2150" data-belowelement="div-comment-1097" data-respondelement="respond" data-replyto="Reply to Oleg Kutkov" aria-label='Reply to Oleg Kutkov'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-1253" class="comment odd alt thread-even depth-1 parent">
			<article id="div-comment-1253" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/941e83d0e3bee349e65a95167dea8726?s=32&amp;d=mm&amp;r=g' srcset='https://secure.gravatar.com/avatar/941e83d0e3bee349e65a95167dea8726?s=64&#038;d=mm&#038;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' loading='lazy' decoding='async'/>						<b class="fn">KG5DXG</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.html#comment-1253"><time datetime="2022-04-03T10:25:11+03:00">April 3, 2022 at 10:25 am</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>LimeSDR might be another SDR board to try in this configuration, as it has USB 3 and much much higher bandwidth than the HackRF for the same price (61.44MHz + USB 3 for $300 vs 20MHz + USB 2 for $300).</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index977e.html?replytocom=1253#respond' data-commentid="1253" data-postid="2150" data-belowelement="div-comment-1253" data-respondelement="respond" data-replyto="Reply to KG5DXG" aria-label='Reply to KG5DXG'>Reply</a></div>			</article><!-- .comment-body -->
		<ol class="children">
		<li id="comment-1254" class="comment byuser comment-author-oleg_kutkov bypostauthor even depth-2">
			<article id="div-comment-1254" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/71a690f51f8d15d23a235b9bd07140c4?s=32&amp;d=mm&amp;r=g' srcset='https://secure.gravatar.com/avatar/71a690f51f8d15d23a235b9bd07140c4?s=64&#038;d=mm&#038;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' loading='lazy' decoding='async'/>						<b class="fn"><a href="../../../../index.html" class="url" rel="ugc">Oleg Kutkov</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.html#comment-1254"><time datetime="2022-04-03T13:20:34+03:00">April 3, 2022 at 1:20 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Yeah. I thought about the Lime, but it is more expensive.<br />
I bought my HackRf boards for $90, and I already had some boards at the start of the project. That&#8217;s why I stuck to these boards.<br />
Maybe I will switch to the Lime after the war.</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index59f2.html?replytocom=1254#respond' data-commentid="1254" data-postid="2150" data-belowelement="div-comment-1254" data-respondelement="respond" data-replyto="Reply to Oleg Kutkov" aria-label='Reply to Oleg Kutkov'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-1861" class="comment odd alt thread-odd thread-alt depth-1 parent">
			<article id="div-comment-1861" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/34ddff41d01ea583c320e6dfcf54b8d8?s=32&amp;d=mm&amp;r=g' srcset='https://secure.gravatar.com/avatar/34ddff41d01ea583c320e6dfcf54b8d8?s=64&#038;d=mm&#038;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' loading='lazy' decoding='async'/>						<b class="fn">Baraka</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.html#comment-1861"><time datetime="2023-10-07T02:39:39+03:00">October 7, 2023 at 2:39 am</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>If you knew that you could have achieved all of this without much of the hassle using the Xilinx RFSoC Ultrascale+ FPGA, would you consider it? If so, how would you do it? BTW, in case you are not aware this RFSoC would have removed all synchronization issues and given you 8 high speed ADCs and 8 high speed DACs, plus high speed PCIe, which would have allowed you to demodulate your signals like you wanted to do.</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='indexb290.html?replytocom=1861#respond' data-commentid="1861" data-postid="2150" data-belowelement="div-comment-1861" data-respondelement="respond" data-replyto="Reply to Baraka" aria-label='Reply to Baraka'>Reply</a></div>			</article><!-- .comment-body -->
		<ol class="children">
		<li id="comment-1862" class="comment byuser comment-author-oleg_kutkov bypostauthor even depth-2">
			<article id="div-comment-1862" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/71a690f51f8d15d23a235b9bd07140c4?s=32&amp;d=mm&amp;r=g' srcset='https://secure.gravatar.com/avatar/71a690f51f8d15d23a235b9bd07140c4?s=64&#038;d=mm&#038;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' loading='lazy' decoding='async'/>						<b class="fn"><a href="../../../../index.html" class="url" rel="ugc">Oleg Kutkov</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.html#comment-1862"><time datetime="2023-10-07T12:15:19+03:00">October 7, 2023 at 12:15 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>RFSoC Ultrascale+ or even USRP radio is way out of the budget of the hobby project.</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index28a8.html?replytocom=1862#respond' data-commentid="1862" data-postid="2150" data-belowelement="div-comment-1862" data-respondelement="respond" data-replyto="Reply to Oleg Kutkov" aria-label='Reply to Oleg Kutkov'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

			<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply to <a href="#comment-1096">Andrew</a> <small><a rel="nofollow" id="cancel-comment-reply-link" href="index.html#respond">Cancel reply</a></small></h3><form action="https://olegkutkov.me/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> <span class="required-field-message">Required fields are marked <span class="required">*</span></span></p><p class="comment-form-comment"><label for="comment">Comment <span class="required">*</span></label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" autocomplete="name" required /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" autocomplete="email" required /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" autocomplete="url" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='2150' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='1096' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="a53cd8cf7e" /></p><p style="display: none !important;" class="akismet-fields-container" data-prefix="ak_"><label>&#916;<textarea name="ak_hp_textarea" cols="45" rows="8" maxlength="100"></textarea></label><input type="hidden" id="ak_js_1" name="ak_js" value="58"/><script>document.getElementById( "ak_js_1" ).setAttribute( "value", ( new Date() ).getTime() );</script></p></form>	</div><!-- #respond -->
	<p class="akismet_comment_form_privacy_notice">This site uses Akismet to reduce spam. <a href="https://akismet.com/privacy/" target="_blank" rel="nofollow noopener">Learn how your comment data is processed</a>.</p>
</div><!-- #comments -->

</main><!-- #main --></div><!-- #primary --></div><!-- .col-md-8 --><div class="col-md-4 col-sm-12 main-sidebar">
	<aside id="secondary" class="widget-area" role="complementary">
		<section id="categories-2" class="widget widget_categories"><h3 class="widget-title">Categories</h3>
			<ul>
					<li class="cat-item cat-item-4"><a href="../../../../category/allsky-camera/index.html">Allsky camera</a> (5)
</li>
	<li class="cat-item cat-item-11"><a href="../../../../category/astro-tools/index.html">Astro tools</a> (9)
</li>
	<li class="cat-item cat-item-121"><a href="../../../../category/automotive/index.html">Automotive</a> (2)
</li>
	<li class="cat-item cat-item-30"><a href="../../../../category/electronics/index.html">Electronics</a> (34)
</li>
	<li class="cat-item cat-item-111"><a href="../../../../category/firmware/index.html">Firmware</a> (3)
</li>
	<li class="cat-item cat-item-122"><a href="../../../../category/hardware/index.html">hardware</a> (12)
</li>
	<li class="cat-item cat-item-76"><a href="../../../../category/linux-kernel/index.html">Linux kernel</a> (8)
</li>
	<li class="cat-item cat-item-25"><a href="../../../../category/linux-system-development/index.html">Linux system development</a> (11)
</li>
	<li class="cat-item cat-item-78"><a href="../../../../category/networking/index.html">Networking</a> (12)
</li>
	<li class="cat-item cat-item-15"><a href="../../../../category/radio-antennas/index.html">Radio &amp; antennas</a> (16)
</li>
	<li class="cat-item cat-item-69"><a href="../../../../category/radioastronomy/index.html">Radioastronomy</a> (5)
</li>
	<li class="cat-item cat-item-110"><a href="../../../../category/reverse-engineering/index.html">Reverse engineering</a> (7)
</li>
	<li class="cat-item cat-item-54"><a href="../../../../category/software/index.html">Software</a> (18)
</li>
	<li class="cat-item cat-item-146"><a href="../../../../category/starlink/index.html">starlink</a> (1)
</li>
	<li class="cat-item cat-item-1"><a href="../../../../category/uncategorized/index.html">Uncategorized</a> (1)
</li>
			</ul>

			</section>
		<section id="recent-posts-2" class="widget widget_recent_entries">
		<h3 class="widget-title">Recent Posts</h3>
		<ul>
											<li>
					<a href="../../../../2024/02/12/starlink-terminal-revision-4-overview-and-tests/index.html">Starlink terminal revision 4: overview and tests</a>
									</li>
											<li>
					<a href="../../../../2023/11/07/connecting-external-gps-antenna-to-the-starlink-terminal/index.html">Connecting external GPS antenna to the Starlink terminal</a>
									</li>
											<li>
					<a href="../../../../2023/06/09/how-to-power-starlink-terminal-from-12v-without-poe-injector-and-dc-dc-converters/index.html">How to power Starlink terminal from 12V without PoE injector and DC/DC converters</a>
									</li>
											<li>
					<a href="../../../../2023/03/18/reworking-gen2-starlink-router-from-spx-connector-to-8p8c-rj45/index.html">Reworking Gen2 Starlink router from SPX connector to 8P8C (RJ45)</a>
									</li>
											<li>
					<a href="../../../../2022/07/18/data-logger-for-uni-t-ut800-multimeters/index.html">Data logger for UNI-T UT800 multimeters</a>
									</li>
					</ul>

		</section><section id="recent-comments-2" class="widget widget_recent_comments"><h3 class="widget-title">Recent Comments</h3><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link">Christian Borrman</span> on <a href="../../../../2024/02/12/starlink-terminal-revision-4-overview-and-tests/index.html#comment-4178">Starlink terminal revision 4: overview and tests</a></li><li class="recentcomments"><span class="comment-author-link">Christian Borrman</span> on <a href="../../../../2024/02/12/starlink-terminal-revision-4-overview-and-tests/index.html#comment-4177">Starlink terminal revision 4: overview and tests</a></li><li class="recentcomments"><span class="comment-author-link"><a href="http://br/" class="url" rel="ugc external nofollow">Baú</a></span> on <a href="../../../../2023/11/07/connecting-external-gps-antenna-to-the-starlink-terminal/index.html#comment-4176">Connecting external GPS antenna to the Starlink terminal</a></li><li class="recentcomments"><span class="comment-author-link">sk</span> on <a href="../../../01/07/writing-a-pci-device-driver-for-linux/index.html#comment-4152">Writing a PCI device driver for Linux</a></li><li class="recentcomments"><span class="comment-author-link"><a href="http://zkitszo.blogspot.com/" class="url" rel="ugc external nofollow">Zkitszo</a></span> on <a href="../../../../2020/06/17/combining-two-hackrf-sdr-to-see-more/index.html#comment-4137">Combining two HackRF SDR to see more</a></li></ul></section><section id="nav_menu-6" class="widget widget_nav_menu"><h3 class="widget-title">Oleg Kutkov personal blog</h3><div class="menu-about-me-container"><ul id="menu-about-me" class="menu"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-218"><a href="../../../../index.html">Home</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2937"><a href="../../../../starlink-repairs-archive/index.html">Starlink repairs archive</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2978"><a href="../../../../olegkutkov_public_key.txt">Public PGP</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3140"><a href="../../../../license/index.html">License</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-219"><a href="../../../../about-me/index.html">About me</a></li>
</ul></div></section><section id="search-4" class="widget widget_search"><h3 class="widget-title">Site search</h3><form role="search" method="get" class="search-form" action="https://olegkutkov.me/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
				</label>
				<input type="submit" class="search-submit" value="Search" />
			</form></section><section id="block-2" class="widget widget_block"><h4>Support author</h4>
<br>
You can send donations on <a href="https://www.paypal.com/myaccount/transfer/homepage">PayPal</a> using my email contact@olegkutkov.me
<br><br>
Thank you for your support!</section><section id="block-4" class="widget widget_block"><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img decoding="async" alt="Creative Commons License" style="border-width:0" src="../../../../../licensebuttons.net/l/by/4.0/80x15.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></section>	</aside><!-- #secondary -->
</div></div><!-- .row --></div><!-- .container --></div><!-- #content -->
	<footer id="colophon" class="site-footer" role="contentinfo">
		<div class="site-info"><div class="container"><div class="row"> 
        <div class="col-md-6 col-sm-6">
            
                <div class="copyright-text">

                    Oleg Kutkov
                </div>

                 
        </div>
         
        <div class="col-md-6 col-sm-6">     
            <div class="credit-text">             
                Blog Way by <a href="https://www.prodesigns.com/" rel="designer" target="_blank">ProDesigns</a>            </div>
        </div>
        </div><!-- .row --></div><!-- .container --></div><!-- .site-info -->	</footer><!-- #colophon -->

</div><!-- #page -->

<!--
The IP2Location Country Blocker is using IP2Location LITE geolocation database. Please visit https://lite.ip2location.com for more information.
-->
<a href="#page" class="scrollup" id="btn-scrollup"><i class="fa fa-angle-up"></i></a><script type="text/javascript" id="code-prettify-js-before">
/* <![CDATA[ */
var codePrettifyLoaderBaseUrl = "index7806.html\/\/olegkutkov.me\/wp-content\/plugins\/code-prettify\/prettify";
/* ]]> */
</script>








<script defer src="../../../../wp-content/cache/autoptimize/js/autoptimize_1827c9da4c86fc3ad9db01f6a6132235.js"></script></body>

<!-- Mirrored from olegkutkov.me/2021/11/29/hackrf-supercluster/?replytocom=1096 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 22 May 2024 19:16:23 GMT -->
</html>